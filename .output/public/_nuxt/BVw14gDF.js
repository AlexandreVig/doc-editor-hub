import{g as U,h as q,r as B,i as g,j as C,k as _,w as a,l as e,o as c,c as L,a as s,t as N,d as r,b as o,n as j,m as z,q as I,s as T}from"./BDinhLvt.js";import{c as $,a as y,_ as D,b as E,d as S}from"./C1yNvVha.js";import{_ as F,a as P}from"./DybvmvME.js";const R=s("div",{class:"header flex items-end justify-between mb-5"},[s("h1",{class:"type-title text-[42px] leading-[52px] font-bold"},"Login")],-1),A={key:0,class:"space-y-8"},G={class:"flex justify-between"},M={class:"flex justify-between items-center"},Q=U({__name:"index",setup(H){const i=q(),v=$({email:y().email("Invalid email").required("Required"),password:y().required("Required")}),n=B({email:"",password:""});async function h(l){i.login(n.email,n.password).catch(()=>{p.value=!0})}const d=g(!1),p=g(!1);return i.isLogged().then(l=>{d.value=l}),C(()=>{i.setNavbar(!1)}),(l,t)=>{const u=I,f=D,x=E,w=P,k=T,b=S,V=F;return c(),_(V,{authenticated:e(d)},{default:a(()=>[R,e(d)?(c(),L("div",A,[s("p",null,[s("b",null,N(e(i).name),1),r(" is currently authenticated. If you recognize this account, click continue. ")]),s("div",G,[o(u,{color:"primary",variant:"soft",onClick:t[0]||(t[0]=()=>{e(i).logout()})},{default:a(()=>[r("Disconnect")]),_:1}),o(u,{color:"primary",variant:"solid",onClick:t[1]||(t[1]=()=>{("navigateTo"in l?l.navigateTo:e(j))("/document")})},{default:a(()=>[r("Continue")]),_:1})])])):(c(),_(b,{key:1,schema:e(v),state:e(n),class:"space-y-4",onSubmit:h},{default:a(()=>[o(x,{name:"email",class:"w-full",size:"xl",required:""},{default:a(()=>[o(f,{modelValue:e(n).email,"onUpdate:modelValue":t[2]||(t[2]=m=>e(n).email=m),placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),o(x,{name:"password",class:"w-full",size:"xl",required:""},{default:a(()=>[o(f,{modelValue:e(n).password,"onUpdate:modelValue":t[3]||(t[3]=m=>e(n).password=m),placeholder:"Password",type:"password"},null,8,["modelValue"])]),_:1}),e(p)?(c(),_(w,{key:0,color:"red",icon:"i-heroicons-information-circle-20-solid",title:"Incorrect username or password"})):z("",!0),s("div",M,[o(u,{type:"submit",size:"xl"},{default:a(()=>[r(" Login ")]),_:1}),o(k,{to:"/auth/register","active-class":"text-primary","inactive-class":"text-slate-400 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-medium"},{default:a(()=>[r(" Don't have an account ? ")]),_:1})])]),_:1},8,["schema","state"]))]),_:1},8,["authenticated"])}}});export{Q as default};
