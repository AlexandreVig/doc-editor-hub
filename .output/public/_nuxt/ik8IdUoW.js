import{g as q,h as U,r as B,i as y,j as C,k as f,w as n,l as e,o as d,c as N,a as s,t as z,d as c,b as o,n as R,m as j,q as T,s as $}from"./BDinhLvt.js";import{c as A,a as x,_ as E,b as I,d as L}from"./C1yNvVha.js";import{_ as S,a as D}from"./DybvmvME.js";const F=s("div",{class:"header flex items-end justify-between mb-5"},[s("h1",{class:"type-title text-[42px] leading-[52px] font-bold"},"Register")],-1),P={key:0,class:"space-y-8"},G={class:"flex justify-between"},M={class:"flex justify-between items-center"},Q=q({__name:"register",setup(H){const l=U(),v=A({name:x().required("Required"),email:x().email("Invalid email").required("Required"),password:x().required("Required")}),t=B({name:"",email:"",password:""});async function h(r){l.register(t.name,t.email,t.password).catch(()=>{g.value=!0})}const u=y(!1),g=y(!1);return l.isLogged().then(r=>{u.value=r}),C(()=>{l.setNavbar(!1)}),(r,a)=>{const m=T,_=E,p=I,w=D,k=$,V=L,b=S;return d(),f(b,{authenticated:e(u)},{default:n(()=>[F,e(u)?(d(),N("div",P,[s("p",null,[s("b",null,z(e(l).name),1),c(" is currently authenticated. If you recognize this account, click continue. ")]),s("div",G,[o(m,{color:"primary",variant:"soft",onClick:a[0]||(a[0]=()=>{e(l).logout()})},{default:n(()=>[c("Disconnect")]),_:1}),o(m,{color:"primary",variant:"solid",onClick:a[1]||(a[1]=()=>{("navigateTo"in r?r.navigateTo:e(R))("/document")})},{default:n(()=>[c("Continue")]),_:1})])])):(d(),f(V,{key:1,schema:e(v),state:e(t),class:"space-y-4",onSubmit:h},{default:n(()=>[o(p,{name:"name",class:"w-full",size:"xl",required:""},{default:n(()=>[o(_,{modelValue:e(t).name,"onUpdate:modelValue":a[2]||(a[2]=i=>e(t).name=i),placeholder:"Name"},null,8,["modelValue"])]),_:1}),o(p,{name:"email",class:"w-full",size:"xl",required:""},{default:n(()=>[o(_,{modelValue:e(t).email,"onUpdate:modelValue":a[3]||(a[3]=i=>e(t).email=i),placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),o(p,{name:"password",class:"w-full",size:"xl",required:""},{default:n(()=>[o(_,{modelValue:e(t).password,"onUpdate:modelValue":a[4]||(a[4]=i=>e(t).password=i),placeholder:"Password",type:"password"},null,8,["modelValue"])]),_:1}),e(g)?(d(),f(w,{key:0,color:"red",icon:"i-heroicons-information-circle-20-solid",title:"An error occured"})):j("",!0),s("div",M,[o(m,{type:"submit",size:"xl"},{default:n(()=>[c(" Register ")]),_:1}),o(k,{to:"/auth","active-class":"text-primary","inactive-class":"text-slate-400 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-medium"},{default:n(()=>[c(" Already have an account ? ")]),_:1})])]),_:1},8,["schema","state"]))]),_:1},8,["authenticated"])}}});export{Q as default};
